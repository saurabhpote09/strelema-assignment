import React, { useState } from "react";
import { Button } from "@/components/ui/button";
import {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Menu, X } from "lucide-react"; // Assuming lucide-react for icons; install if needed
import { useNavigate } from "react-router-dom";

const navItems = ["Destination", "Hotel", "Flights", "Bookings"];
const Navbar = () => {
  const token = localStorage.getItem("authToken");
  const navigate = useNavigate();
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

  return (
    <div className="flex items-center justify-between px-4 py-4 relative">
      <div className="w-[176px] h-12 shrink-0 relative">
        <div className="w-5 h-3 rounded-[7px] bg-[#FFF1DA] absolute -right-1.5 -top-1.5"></div>
        <div className="w-5 h-3 rounded-[7px] bg-[#FFF1DA] absolute left-0 bottom-0"></div>
        <div className="w-[84px] h-3 rounded-[7px] bg-[#FFF1DA] absolute right-0 bottom-0 -z-10"></div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="174"
          height="40"
          viewBox="0 0 174 40"
          fill="none"
        >
          <path
            d="M11.5601 2.24C13.5335 2.24 15.1868 2.34666 16.5201 2.56C17.8801 2.74666 18.9735 2.98666 19.8001 3.28C20.6801 3.62666 21.2801 4.02666 21.6001 4.48C21.9468 4.93333 22.1201 5.45333 22.1201 6.04C22.1201 6.89333 21.7868 7.58666 21.1201 8.12C20.4801 8.65333 19.4935 8.92 18.1601 8.92C17.2535 8.92 16.2801 8.82666 15.2401 8.64C14.2001 8.45333 13.1335 8.17333 12.0401 7.8L12.5601 7.24C12.8001 8.62667 13.0135 10.16 13.2001 11.84C13.3868 13.52 13.5468 15.2267 13.6801 16.96C13.8401 18.6667 13.9468 20.28 14.0001 21.8C14.0801 23.32 14.1201 24.6133 14.1201 25.68C14.1201 27.76 13.8535 29.32 13.3201 30.36C12.8135 31.4 11.9335 31.92 10.6801 31.92C9.53345 31.92 8.70678 31.4533 8.20012 30.52C7.69345 29.56 7.44012 28.1067 7.44012 26.16C7.44012 24.88 7.49345 23.4133 7.60012 21.76C7.73345 20.1067 7.90678 18.4 8.12012 16.64C8.33345 14.88 8.56012 13.2 8.80012 11.6C9.06678 9.97333 9.33345 8.56 9.60012 7.36L10.3201 7.8C9.73345 8.01333 9.04012 8.22667 8.24012 8.44C7.44012 8.62667 6.64012 8.78667 5.84012 8.92C5.04012 9.02667 4.33345 9.08 3.72012 9.08C2.36012 9.08 1.40012 8.86667 0.840117 8.44C0.280117 7.98667 0.000117257 7.38667 0.000117257 6.64C0.000117257 5.94667 0.213451 5.36 0.640117 4.88C1.06678 4.37333 1.72012 3.93333 2.60012 3.56C3.61345 3.13333 4.85345 2.81333 6.32012 2.6C7.81345 2.36 9.56012 2.24 11.5601 2.24ZM24.6461 13.6C24.6461 11.04 24.8861 9.2 25.3661 8.08C25.8461 6.93333 26.5261 6.36 27.4061 6.36C28.0994 6.36 28.6461 6.65333 29.0461 7.24C29.4461 7.8 29.7394 8.50666 29.9261 9.36C30.1127 10.1867 30.2061 11.0267 30.2061 11.88L30.0061 11.8C30.4594 10.36 31.1527 9.12 32.0861 8.08C33.0461 7.04 34.1927 6.52 35.5261 6.52C37.0994 6.52 38.2594 7.17333 39.0061 8.48C39.7527 9.76 40.1261 11.36 40.1261 13.28C40.1261 15.84 39.8327 17.6267 39.2461 18.64C38.6594 19.6533 37.8727 20.16 36.8861 20.16C36.1661 20.16 35.6327 19.8667 35.2861 19.28C34.9661 18.6933 34.8594 17.6533 34.9661 16.16C35.0727 14.5867 34.9794 13.4933 34.6861 12.88C34.3927 12.2667 33.9261 11.96 33.2861 11.96C32.5127 11.96 31.8727 12.4533 31.3661 13.44C30.8861 14.4 30.6461 15.5867 30.6461 17C30.6461 17.56 30.7127 18.2667 30.8461 19.12C30.9794 19.9733 31.1261 20.9067 31.2861 21.92C31.4461 22.9067 31.5927 23.8933 31.7261 24.88C31.8594 25.8667 31.9261 26.7733 31.9261 27.6C31.9261 29.0667 31.6994 30.12 31.2461 30.76C30.7927 31.4 30.1527 31.72 29.3261 31.72C28.3927 31.72 27.6727 31.4267 27.1661 30.84C26.6594 30.2267 26.2727 29.24 26.0061 27.88C25.7927 26.6533 25.5794 25.2 25.3661 23.52C25.1527 21.84 24.9794 20.12 24.8461 18.36C24.7127 16.6 24.6461 15.0133 24.6461 13.6ZM61.1495 32.04C60.2428 32.04 59.6162 31.6933 59.2695 31C58.9495 30.28 58.7628 29.1467 58.7095 27.6L59.1095 27.8C57.6162 30.7067 54.7895 32.16 50.6295 32.16C48.7362 32.16 47.1628 31.8267 45.9095 31.16C44.6562 30.4667 43.7228 29.56 43.1095 28.44C42.5228 27.2933 42.2295 26.0533 42.2295 24.72C42.2295 22.4267 43.0295 20.6133 44.6295 19.28C46.2295 17.92 48.3495 17.24 50.9895 17.24C52.7228 17.24 54.2295 17.4933 55.5095 18C56.7895 18.5067 57.8828 19.2133 58.7895 20.12L58.1095 20.04C57.9228 17.3467 57.3362 15.4267 56.3495 14.28C55.3895 13.1067 54.0162 12.52 52.2295 12.52C51.1895 12.52 50.2295 12.68 49.3495 13C48.4695 13.32 47.6562 13.6533 46.9095 14C46.1895 14.32 45.5095 14.48 44.8695 14.48C44.2295 14.48 43.7228 14.2667 43.3495 13.84C43.0028 13.4133 42.8295 12.8667 42.8295 12.2C42.8295 11.24 43.2828 10.3333 44.1895 9.48C45.1228 8.62667 46.3495 7.93333 47.8695 7.4C49.3895 6.86666 51.0428 6.6 52.8295 6.6C54.9895 6.6 56.8428 7.12 58.3895 8.16C59.9362 9.2 61.1095 10.72 61.9095 12.72C62.6028 14.4267 63.0962 16.3333 63.3895 18.44C63.6828 20.5467 63.8295 22.8 63.8295 25.2C63.8295 27.0133 63.7362 28.4133 63.5495 29.4C63.3628 30.3867 63.0695 31.08 62.6695 31.48C62.2962 31.8533 61.7895 32.04 61.1495 32.04ZM52.3095 27.56C53.1895 27.56 54.0828 27.44 54.9895 27.2C55.8962 26.9333 56.6562 26.5467 57.2695 26.04C57.8828 25.5333 58.1895 24.9067 58.1895 24.16C58.1895 23.52 57.9228 23 57.3895 22.6C56.8828 22.1733 56.2028 21.8533 55.3495 21.64C54.5228 21.4267 53.6295 21.32 52.6695 21.32C51.0428 21.32 49.8028 21.6 48.9495 22.16C48.1228 22.72 47.7095 23.4667 47.7095 24.4C47.7095 25.4133 48.0962 26.2 48.8695 26.76C49.6695 27.2933 50.8162 27.56 52.3095 27.56ZM69.8686 6.48C70.9086 6.48 71.6819 6.88 72.1886 7.68C72.6952 8.48 73.1219 9.70667 73.4686 11.36C73.7619 12.7733 74.1752 14.4133 74.7086 16.28C75.2419 18.12 75.8419 20.0133 76.5086 21.96C77.2019 23.9067 77.9086 25.7733 78.6286 27.56H78.7886C79.4286 25.9067 80.0152 24.1467 80.5486 22.28C81.1086 20.4133 81.5752 18.5867 81.9486 16.8C82.3486 14.9867 82.6152 13.3733 82.7486 11.96C82.9086 10.2267 83.1886 9 83.5886 8.28C83.9886 7.53333 84.6286 7.16 85.5086 7.16C86.4419 7.16 87.1752 7.53333 87.7086 8.28C88.2419 9.02666 88.5086 10.1867 88.5086 11.76C88.5086 13.0933 88.3619 14.5067 88.0686 16C87.8019 17.4933 87.4286 18.9733 86.9486 20.44C86.4952 21.9067 85.9752 23.2667 85.3886 24.52C84.6952 26.0133 84.0019 27.32 83.3086 28.44C82.6152 29.5333 81.8419 30.3867 80.9886 31C80.1619 31.6133 79.1486 31.92 77.9486 31.92C76.6686 31.92 75.5752 31.4667 74.6686 30.56C73.7619 29.6533 72.7619 28.2267 71.6686 26.28C70.7619 24.6 69.9752 22.8533 69.3086 21.04C68.6686 19.2267 68.1619 17.4533 67.7886 15.72C67.4419 13.96 67.2686 12.36 67.2686 10.92C67.2686 9.42667 67.4686 8.32 67.8686 7.6C68.2952 6.85333 68.9619 6.48 69.8686 6.48ZM103.151 31.96C100.191 31.96 97.8307 31.52 96.0707 30.64C94.3107 29.76 93.0441 28.4933 92.2707 26.84C91.4974 25.1867 91.1107 23.2133 91.1107 20.92C91.1107 18.0133 91.6441 15.5467 92.7107 13.52C93.8041 11.4667 95.2974 9.89333 97.1907 8.8C99.1107 7.70666 101.284 7.16 103.711 7.16C106.564 7.16 108.657 7.82666 109.991 9.16C111.324 10.4667 111.991 12.1867 111.991 14.32C111.991 16.0267 111.537 17.5067 110.631 18.76C109.751 19.9867 108.524 20.9333 106.951 21.6C105.377 22.2667 103.564 22.6 101.511 22.6C100.364 22.6 99.2574 22.4533 98.1907 22.16C97.1241 21.8667 96.1641 21.4667 95.3107 20.96L96.2707 19.2C96.1907 19.84 96.1507 20.48 96.1507 21.12C96.1507 22.9867 96.7374 24.3333 97.9107 25.16C99.0841 25.96 100.751 26.36 102.911 26.36C104.591 26.36 105.937 26.2133 106.951 25.92C107.964 25.6267 108.817 25.3467 109.511 25.08C110.204 24.7867 110.884 24.64 111.551 24.64C111.924 24.64 112.257 24.7467 112.551 24.96C112.871 25.1467 113.124 25.4267 113.311 25.8C113.524 26.1733 113.631 26.6267 113.631 27.16C113.631 27.96 113.231 28.7333 112.431 29.48C111.631 30.2 110.444 30.8 108.871 31.28C107.324 31.7333 105.417 31.96 103.151 31.96ZM100.831 18.88C102.724 18.88 104.244 18.48 105.391 17.68C106.537 16.88 107.111 15.8933 107.111 14.72C107.111 13.7867 106.791 13.0267 106.151 12.44C105.537 11.8267 104.564 11.52 103.231 11.52C101.977 11.52 100.844 11.76 99.8307 12.24C98.8441 12.6933 98.0707 13.2933 97.5107 14.04C96.9507 14.7867 96.6707 15.6 96.6707 16.48C96.6707 17.2533 97.0307 17.8533 97.7507 18.28C98.4974 18.68 99.5241 18.88 100.831 18.88ZM121.466 31.72C120.639 31.72 119.986 31.5333 119.506 31.16C119.026 30.76 118.639 30.1067 118.346 29.2C117.946 27.8667 117.639 26.1867 117.426 24.16C117.239 22.1067 117.146 19.5867 117.146 16.6C117.146 14.76 117.213 12.92 117.346 11.08C117.506 9.21333 117.706 7.52 117.946 6C118.186 4.45333 118.439 3.25333 118.706 2.4C118.999 1.49333 119.346 0.866664 119.746 0.519997C120.146 0.173332 120.599 -9.53674e-07 121.106 -9.53674e-07C121.639 -9.53674e-07 122.066 0.186666 122.386 0.559999C122.706 0.906664 122.959 1.53333 123.146 2.44C123.306 3.32 123.426 4.4 123.506 5.68C123.613 6.96 123.666 8.33333 123.666 9.8C123.666 11.8 123.573 13.9067 123.386 16.12C123.199 18.3333 122.946 20.5067 122.626 22.64C122.333 24.7733 121.973 26.7333 121.546 28.52L120.426 27.96C121.119 27.1067 121.906 26.44 122.786 25.96C123.693 25.48 124.519 25.24 125.266 25.24C125.879 25.24 126.346 25.4133 126.666 25.76C127.013 26.08 127.186 26.5867 127.186 27.28C127.186 27.9733 126.879 28.6667 126.266 29.36C125.679 30.0533 124.946 30.6267 124.066 31.08C123.186 31.5067 122.319 31.72 121.466 31.72ZM133.018 23.04C134.085 23.04 134.938 23.4133 135.578 24.16C136.245 24.88 136.578 25.9467 136.578 27.36C136.578 28.6667 136.258 29.7733 135.618 30.68C135.005 31.5867 134.005 32.04 132.618 32.04C131.498 32.04 130.671 31.6667 130.138 30.92C129.631 30.1733 129.378 29.12 129.378 27.76C129.378 26.96 129.485 26.2 129.698 25.48C129.911 24.76 130.285 24.1733 130.818 23.72C131.351 23.2667 132.085 23.04 133.018 23.04ZM144.357 31.72C143.53 31.72 142.877 31.5333 142.397 31.16C141.917 30.76 141.53 30.1067 141.237 29.2C140.837 27.8667 140.53 26.1867 140.317 24.16C140.13 22.1067 140.037 19.5867 140.037 16.6C140.037 14.76 140.103 12.92 140.237 11.08C140.397 9.21333 140.597 7.52 140.837 6C141.077 4.45333 141.33 3.25333 141.597 2.4C141.89 1.49333 142.237 0.866664 142.637 0.519997C143.037 0.173332 143.49 -9.53674e-07 143.997 -9.53674e-07C144.53 -9.53674e-07 144.957 0.186666 145.277 0.559999C145.597 0.906664 145.85 1.53333 146.037 2.44C146.197 3.32 146.317 4.4 146.397 5.68C146.503 6.96 146.557 8.33333 146.557 9.8C146.557 11.8 146.463 13.9067 146.277 16.12C146.09 18.3333 145.837 20.5067 145.517 22.64C145.223 24.7733 144.863 26.7333 144.437 28.52L143.317 27.96C144.01 27.1067 144.797 26.44 145.677 25.96C146.583 25.48 147.41 25.24 148.157 25.24C148.77 25.24 149.237 25.4133 149.557 25.76C149.903 26.08 150.077 26.5867 150.077 27.28C150.077 27.9733 149.77 28.6667 149.157 29.36C148.57 30.0533 147.837 30.6267 146.957 31.08C146.077 31.5067 145.21 31.72 144.357 31.72ZM156.458 39.6C155.018 39.6 154.298 38.8267 154.298 37.28C154.298 36.4267 154.591 35.4133 155.178 34.24C155.764 33.0667 156.618 31.8 157.738 30.44C158.884 29.08 160.271 27.6933 161.898 26.28L161.858 26.6C158.311 23.08 155.618 19.9867 153.778 17.32C151.964 14.6533 151.058 12.3467 151.058 10.4C151.058 9.44 151.298 8.69333 151.778 8.16C152.284 7.62666 152.951 7.36 153.778 7.36C155.538 7.36 157.284 8.64 159.018 11.2C160.751 13.76 162.391 17.6533 163.938 22.88H164.098C165.111 17.3867 166.191 13.36 167.338 10.8C168.484 8.21333 169.844 6.92 171.418 6.92C172.164 6.92 172.711 7.18666 173.058 7.72C173.431 8.22666 173.618 8.94666 173.618 9.88C173.618 10.6533 173.444 11.68 173.098 12.96C172.778 14.2133 172.311 15.64 171.698 17.24C171.111 18.8133 170.418 20.4533 169.618 22.16C168.844 23.8667 167.991 25.5467 167.058 27.2C164.684 31.4933 162.658 34.6267 160.978 36.6C159.298 38.6 157.791 39.6 156.458 39.6Z"
            fill="black"
          />
        </svg>
      </div>

      {/* Desktop Navigation */}
      <div className="hidden md:flex items-center gap-8 lg:gap-20">
        <div className="flex items-center gap-4 md:gap-10 lg:gap-16">
          <ul className="flex items-center gap-4 md:gap-10 lg:gap-16">
            {navItems.map((nav, index) => (
              <li
                key={index}
                className="font-normal text-base md:text-[17px] leading-[22px] text-[#212832] font-sans list-none cursor-pointer hover:text-gray-600 transition-colors"
              >
                {nav}
              </li>
            ))}
          </ul>
        </div>
        <div className="flex items-center gap-4 md:gap-10 lg:gap-10.5 xl:gap-10.5">
          {token ? (
            <Button
              onClick={() => {
                navigate("/dashboard");
              }}
              variant="ghost"
              className="hidden sm:block h-10"
            >
              Dashboard
            </Button>
          ) : (
            <Button
              onClick={() => {
                navigate("/login");
              }}
              variant="ghost"
              className="hidden sm:block h-10"
            >
              Login
            </Button>
          )}

          <Button
            variant="outline"
            className="hidden sm:block h-10 bg-transparent"
          >
            Sign Up
          </Button>
          <Select defaultValue="en">
            <SelectTrigger className="w-fit border-none shadow-none">
              <SelectValue
                className="font-medium text-base md:text-[17px] leading-[22px] text-[#212832] font-sans"
                placeholder="Select a Language"
              />
            </SelectTrigger>
            <SelectContent>
              <SelectGroup>
                <SelectItem value="en">EN</SelectItem>
              </SelectGroup>
            </SelectContent>
          </Select>
        </div>
      </div>

      {/* Mobile Menu Toggle */}
      <div className="md:hidden">
        <Button
          variant="ghost"
          size="sm"
          onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
          className="p-2"
        >
          {isMobileMenuOpen ? <X size={20} /> : <Menu size={20} />}
        </Button>
      </div>

      {/* Mobile Navigation Menu */}
      {isMobileMenuOpen && (
        <div className="absolute top-full left-0 right-0 bg-white shadow-lg border-t md:hidden z-50">
          <ul className="flex flex-col p-4 space-y-4">
            {navItems.map((nav, index) => (
              <li
                key={index}
                className="font-normal text-[17px] leading-[22px] text-[#212832] font-sans list-none cursor-pointer hover:text-gray-600 transition-colors py-2"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                {nav}
              </li>
            ))}
            <div className="flex flex-col space-y-2 pt-4 border-t">
              <Button variant="ghost" className="justify-start">
                Login
              </Button>
              <Button variant="outline" className="justify-start">
                Sign Up
              </Button>
              <Select>
                <SelectTrigger className="w-full border-none shadow-none justify-start">
                  <SelectValue
                    className="font-medium text-[17px] leading-[22px] text-[#212832] font-sans"
                    placeholder="Select a Language"
                  />
                </SelectTrigger>
                <SelectContent>
                  <SelectGroup>
                    <SelectItem selected value="en">
                      EN
                    </SelectItem>
                  </SelectGroup>
                </SelectContent>
              </Select>
            </div>
          </ul>
        </div>
      )}
    </div>
  );
};

export default Navbar;
